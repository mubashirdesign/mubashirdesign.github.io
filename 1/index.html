<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.fdea13d62890b9fd0562.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@500&display=swap);@keyframes random{15%{fill:#c33afc}30%{fill:#4d3bff}45%{fill:#f4ce2c}60%{fill:#a298e2}75%{fill:#ff8657}}@keyframes bounce-2{0%{transform:translateY(0)}50%{transform:translateY(-50px)}to{transform:translateY(0)}}*,:after,:before{margin:0;padding:0;box-sizing:inherit}html{font-size:62.5%;box-sizing:border-box}body{font-family:Kanit,sans-serif;background:linear-gradient(180deg,#9c27b0,#6a36d9);margin:0 auto;font-size:2rem;width:100%}a{text-decoration:none}li{list-style:none}pre[class*=language-]{background:#1c2049!important}.streakIcon{position:absolute;top:0;right:0}.smallBookIcon{fill:#5429c1}.torontoIcon{bottom:0;width:100%}.torontoIcon,.waveIcon{fill:#000;position:absolute;left:0}.waveIcon{top:0;height:auto;z-index:1}.wiresIcon{width:inherit;position:absolute}.codingIcon{height:50rem}.codingIcon-1,.codingIcon-2{fill:#d6d8e5}.codingIcon-1{opacity:.4}.codingIcon-3{fill:#b1b6c4}.codingIcon-4{fill:#c4c7d6}.codingIcon-5{fill:#38226d}.codingIcon-6{fill:#9c73ff}.codingIcon-7{fill:#8c50ff}.codingIcon-8{fill:#ffcea9}.codingIcon-9{fill:#ededed}.codingIcon-10{fill:#e5e5e5}.codingIcon-11{fill:#f4f4f4}.codingIcon-12{fill:#bfbfbf}.codingIcon-13{fill:#3a2c6d}.codingIcon-14{fill:#dceeff}.codingIcon-15{fill:#dbdbdb}.codingIcon-16{fill:#1e3779}.codingIcon-17{fill:#031f60}.codingIcon-18{fill:#b1b4c4}.codingIcon-19{fill:#9ea1af}.codingIcon-20{fill:#e4e7f2}.codingIcon-21{fill:#201d38}.codingIcon-22{opacity:.3}.codingIcon-23{fill:#a298e2}.codingIcon-24{fill:#f4ce2c}.codingIcon-25{fill:#4d3bff}.codingIcon-26{fill:#ff8657}.codingIcon-27{fill:#c33afc}.codingIcon-28{fill:#a6ce28}.codingIcon-29{fill:#bcd64d}.codingIcon-30{fill:#28221c}.codingIcon-31{fill:#fff;opacity:.07}.codingIcon-32{fill:#8da01f}.codingIcon-33{fill:#99b524}.codingIcon-34{fill:#e4e6ef}.bookIcon{height:35rem;margin-left:-20rem}.bookIcon-1{fill:#d6d8e5;opacity:.4}.bookIcon-2{fill:#252935}.bookIcon-3{fill:#2b303f}.bookIcon-4{fill:#3a4151}.bookIcon-5{fill:#e6e9ef}.bookIcon-6{fill:#f4f6f9}.bookIcon-7{fill:#e8a30a}.bookIcon-8{fill:#f9cb07}.bookIcon-9{fill:#ab210d}.bookIcon-10{fill:#ff582b}.bookIcon-11{fill:#a5ad00}.bookIcon-12{fill:#b9cc00}.bookIcon-13{opacity:.1}.bookIcon-14{fill:#3a2c6d}.bookIcon-15{fill:#ffcea9}.bookIcon-16{fill:#f4f4f4}.bookIcon-17{fill:#38226d}.bookIcon-18{fill:#9c73ff}.bookIcon-19{fill:#8c50ff}.bookIcon-20{fill:#ededed}.bookIcon-21{fill:#bfbfbf}.bookIcon-22{fill:#e5e5e5}.profileBuildingIcon{height:35rem}.profileBuildingIcon-1{fill:#dadce5}.profileBuildingIcon-2{fill:#f2f5f9}.profileBuildingIcon-3{fill:#b9cc00}.profileBuildingIcon-4{fill:#3a3a3a}.profileBuildingIcon-5{fill:#fff}.profileBuildingIcon-6{fill:#00e7ff}.profileBuildingIcon-7{fill:#443d31}.profileBuildingIcon-8{fill:#c6e800}.profileBuildingIcon-9{fill:#e4e7ef}.profileBuildingIcon-10{fill:#edf1f9}.profileBuildingIcon-11{fill:#6675ff}.profileBuildingIcon-12{fill:#84a6f4}.resourcesIcon{height:35rem}.resourcesIcon-1,.resourcesIcon-4,.resourcesIcon-15{fill:#d6d8e5}.resourcesIcon-1{opacity:.4}.resourcesIcon-2{fill:#b1b4c4}.resourcesIcon-3{fill:#9ea2b2}.resourcesIcon-5{fill:#f4f4f4}.resourcesIcon-6{fill:#9acc12}.resourcesIcon-7{fill:#e8bc05}.resourcesIcon-8{fill:#ef6848}.resourcesIcon-9{fill:#be4aed}.resourcesIcon-10{fill:#543526}.resourcesIcon-11{fill:#1b96ea}.resourcesIcon-12{fill:#ff5050}.resourcesIcon-13{fill:#32cec3}.resourcesIcon-14{fill:none;stroke:#d6d8e5;stroke-miterlimit:10;stroke-width:1.42px}.resourcesIcon-15{opacity:.3}.resourcesIcon-16{fill:#dd990e}.resourcesIcon-17{fill:#f9cb07}.resourcesIcon-18{fill:#cc8b09}.resourcesIcon-19{fill:#e8a30a}.resourcesIcon-20{fill:#f9ca06}.resourcesIcon-21{fill:#3a2c6d}.resourcesIcon-22{fill:#ffcea9}.resourcesIcon-23{fill:#38226d}.resourcesIcon-24{fill:#9c73ff}.resourcesIcon-25{fill:#8c50ff}.resourcesIcon-26{fill:#ededed}.resourcesIcon-27{fill:#d33d3d}.resourcesIcon-28{fill:#ff4d4d}.resourcesIcon-29{fill:#2b303f}.dribbbleIcon-1{fill:#e84c88}.dribbbleIcon-2{fill:#fff}h1{font-size:4rem;line-height:4rem}h2{font-size:3rem}h3{font-size:2rem}.icon{fill:currentColor}.flex{display:flex}.hidden{display:none}.flex-direction-column{flex-direction:column}.space-between{justify-content:space-between}.align-items-center{align-items:center}.justify-content-center{justify-content:center}.margin-bottom-medium{margin-bottom:5rem}.margin-bottom-none{margin-bottom:0}.flex-wrap{flex-wrap:wrap}.text-align-center{text-align:center}.banner{background:linear-gradient(180deg,#6a36d9,#9c27b0);margin-bottom:0!important}.banner__content{color:#fff;z-index:2}@media only screen and (max-width:989px){.banner__content{flex-direction:column;margin-top:15rem}}.banner__icons{display:flex;align-items:center}.banner__icons--icon{transition:all .8s;margin-top:2rem;color:#fff}.banner__icons--icon:hover{color:#56e5fe}.banner__icons--icon:last-child{margin-left:1rem}.banner.container{height:90vh}@media only screen and (max-width:989px){.banner.container{height:100%}}.button{font-size:2rem;letter-spacing:.5rem;text-transform:uppercase;color:#56e5fe}.blog .container:first-child{height:50vh;background:linear-gradient(#6a36d9,#9c27b0);margin-bottom:0;box-shadow:inset 0 0 20px 0 rgba(0,0,0,.75);color:#fff}.blog .container:first-child h3{margin-top:1rem;font-weight:100;line-height:2rem}.blog .container__inner{margin-top:-10rem}.blog .container__inner p{margin-bottom:1.5rem}.blog .container__inner table{width:100%;margin-bottom:3rem}.blog .container__inner th{height:5rem;text-align:left}.blog .container__inner td,.blog .container__inner th{padding:1.5rem;border-bottom:1px solid #ddd}@media only screen and (max-width:749px){.blog .container__inner{padding:5rem;margin-top:-7rem}}@media only screen and (max-width:749px){.blog h1{font-size:2.5rem}}@media only screen and (max-width:749px){.blog h3{font-size:1.5rem}}.blogIndex .container:first-child{height:50vh;background:linear-gradient(#6a36d9,#9c27b0);margin-bottom:0;box-shadow:inset 0 0 20px 0 rgba(0,0,0,.75);color:#fff}.blogIndex .container:first-child h3{margin-top:1rem;font-weight:100;line-height:2rem}.blogIndex__container{display:flex;flex-direction:column;box-shadow:0 0 3px 0 rgba(0,0,0,.75);background-color:#6a36d9;color:#fff;padding:6rem;width:100%;height:100%;transition:all .1s ease-in;border-radius:20px}.blogIndex__container--title{margin-bottom:2rem}.blogIndex__container--date{color:#dfdfdf;margin-bottom:1rem}.blogIndex .container__inner{margin-top:-10rem;display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:2rem}@media only screen and (max-width:989px){.blogIndex .container__inner{grid-template-columns:1fr}}@media only screen and (max-width:749px){.blogIndex .container__inner{padding:5rem}}@media only screen and (max-width:500px){.blogIndex .container__inner{padding:0}}.header{width:100%;justify-content:flex-end;position:fixed;background-color:#6a36d9;box-shadow:0 0 20px 0 rgba(0,0,0,.75);z-index:100;color:#fff}.header,.header__nav ul{display:flex}.header__nav ul li{padding:2rem}@media only screen and (max-width:749px){.header__nav ul li{padding:2rem 1rem}}.header__nav ul li a{color:#fff;transition:all .8s}.header__nav ul li a:hover{color:#56e5fe}.introduction__icon{margin-top:1rem}.introduction__icon>*{margin:1rem}.introduction__container{color:#d6d8e5;overflow:hidden;border-radius:20px;padding-top:10rem;padding-right:10rem;width:100%;height:100%;z-index:3;box-shadow:0 0 10px 0 rgba(0,0,0,.75);background-color:#1c2049;display:grid;grid-template-rows:[header-start] 7rem [header-end main-start] 1fr [main-end];grid-template-columns:[sidebar-start] 50rem [sidebar-end main-start] 1fr [main-end];max-width:80%}@media only screen and (max-width:749px){.introduction__container{max-width:95%}}.introduction__container--content>*{margin-bottom:2rem}.introduction__container--sidebar{grid-row:main-start/main-end;grid-column:main-start/main-end;display:flex;flex-direction:column;align-items:center}.introduction__container--header{grid-row:header-start/header-end;grid-column:main-start/main-end;color:#56e5fe}@media only screen and (max-width:749px){.introduction__container--header{margin:5rem 0}}@media only screen and (max-width:989px){.introduction__container{grid-template-columns:[sidebar-start] 10rem [sidebar-end main-start] 1fr [main-end]}.introduction__container .profileBuildingIcon{margin-left:-30rem;height:auto}}@media only screen and (max-width:749px){.introduction__container{grid-template-rows:[header-start] -webkit-max-content [header-end main-start] 1fr [main-end];grid-template-rows:[header-start] max-content [header-end main-start] 1fr [main-end];grid-template-columns:[main-start] 1fr [main-end];padding:2rem;text-align:center}.introduction__container .profileBuildingIcon{display:none}}.featured__container{width:80%;color:#fff}@media only screen and (max-width:749px){.featured__container{width:95%}}.featured__blogs{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:2rem}@media only screen and (max-width:989px){.featured__blogs{grid-template-columns:1fr}}.featured__blog{display:flex;flex-direction:column;box-shadow:0 0 3px 0 rgba(0,0,0,.75);background-color:#1c2049;color:#fff;padding:6rem;width:100%;height:100%;transition:all .1s ease-in;border-radius:20px}.featured__blog--title{margin-bottom:2rem;font-weight:100;line-height:2rem}.featured__blog--excerpt{font-size:1.3rem}.featured__blog--date{color:#dfdfdf;margin-bottom:1rem;font-size:1.5rem}.featured__header{color:#56e5fe;font-weight:100}.footer{width:100%;height:100%;margin-top:10rem}.footer__logo{background-color:#1c2049;padding:5rem;box-shadow:inset 0 0 20px 0 rgba(0,0,0,.75)}.footer__copyright,.footer__logo{display:flex;justify-content:center}.footer__copyright{color:#fff;padding:3rem}.resources a{color:#fff}.resources .container:first-child{height:50vh;background:linear-gradient(#6a36d9,#9c27b0);margin-bottom:0;box-shadow:inset 0 0 20px 0 rgba(0,0,0,.75);color:#fff}.resources .container:first-child h3{margin-top:1rem;font-weight:100;line-height:2rem}.resources .icon{height:3rem}.resources .container__inner{margin-top:-10rem}@media only screen and (max-width:749px){.resources .container__inner{padding:5rem;margin-top:-7rem}}.resources__row{display:grid;grid-template-columns:1fr 1fr 1fr;margin-top:5rem;border-top:5px solid #5429c1;padding-top:5rem}@media only screen and (max-width:749px){.resources__row{grid-template-columns:-webkit-max-content;grid-template-columns:max-content;border-top:none;border-left:5px solid #5429c1;padding-left:1rem;padding-top:0;margin-top:0}}.resources__row--letter{text-shadow:0 8px 0 #5429c1;font-size:3rem}.resources__row--item{color:#fff;transition:all .8s}.resources__row--item:hover{color:#9f79ff}@media only screen and (max-width:749px){.resources__row--item{margin-top:5rem}}.resources__header{text-shadow:0 8px 0 #5429c1;font-size:3rem}.contact .container:first-child{height:50vh;background:linear-gradient(#6a36d9,#9c27b0);margin-bottom:0;box-shadow:inset 0 0 20px 0 rgba(0,0,0,.75);color:#fff}.contact .container:first-child h3{margin-top:1rem;font-weight:100;line-height:2rem}.contact .container__inner{margin-top:-10rem;width:50%}@media only screen and (max-width:749px){.contact .container__inner{width:95%;padding:2rem}}.contact__button{align-self:center;margin:3rem 0;background-color:#6a36d9;padding:2rem 5rem;font-size:2rem;letter-spacing:.5rem;box-shadow:inset 0 0 39px 0 rgba(0,0,0,.75);cursor:pointer;border:none}.contact__field{padding:2rem;display:flex;flex-direction:column;align-self:flex-start;width:100%}.contact__field label{font-size:2rem;text-transform:uppercase;color:#6971b9;margin-bottom:1rem}.contact__field input,.contact__field textarea{color:#6a36d9;background-color:inherit;box-shadow:inset 0 0 39px 0 rgba(0,0,0,.75);border:none;border-bottom:1px solid #5600c7;transition:all 1s;padding:1rem;font-family:inherit}.contact__field input:-ms-input-placeholder,.contact__field textarea:-ms-input-placeholder{color:#313131;text-transform:uppercase}.contact__field input::placeholder,.contact__field textarea::placeholder{color:#313131;text-transform:uppercase}.terminal{font-size:1.5rem}@media only screen and (max-width:989px){.terminal{width:100%;margin-bottom:10rem;margin-top:2rem}}.container{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;margin-bottom:10rem}.container__inner{color:#d6d8e5;overflow:hidden;border-radius:20px;padding:10rem;width:100%;height:100%;z-index:3;box-shadow:0 0 39px 0 rgba(0,0,0,.75);background-color:#1c2049;max-width:80%}@media only screen and (max-width:749px){.container__inner{max-width:95%}}.container__content{width:80%;display:flex;justify-content:space-around;align-items:center}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.29.2"/><title data-react-helmet="true">Setting up a deployment pipeline for your Shopify site | Mubashir Cheentavida | Front-End Developer | Portfolio</title><meta data-react-helmet="true" name="description" content="Mubashir | Portfolio | Experienced Web Developer accomplished in all stages of advanced web development, bringing forth expertise in design, development and a talented skill-set in solution architecture, integrations and devOps."/><meta data-react-helmet="true" property="og:title" content="Setting up a deployment pipeline for your Shopify site"/><meta data-react-helmet="true" property="og:description" content="Mubashir | Portfolio | Experienced Web Developer accomplished in all stages of advanced web development, bringing forth expertise in design, development and a talented skill-set in solution architecture, integrations and devOps."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Mubashir Cheentavida"/><meta data-react-helmet="true" name="twitter:title" content="Setting up a deployment pipeline for your Shopify site"/><meta data-react-helmet="true" name="twitter:description" content="Mubashir | Portfolio | Experienced Web Developer accomplished in all stages of advanced web development, bringing forth expertise in design, development and a talented skill-set in solution architecture, integrations and devOps."/><link rel="icon" href="/favicon-32x32.png?v=8b656e8f58c2b210b4fc430ca95bbfe4" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=8b656e8f58c2b210b4fc430ca95bbfe4"/><link as="script" rel="preload" href="/webpack-runtime-382d8716acc5e1517fef.js"/><link as="script" rel="preload" href="/framework-9b42486c583946d73188.js"/><link as="script" rel="preload" href="/app-091679ce48900f7c617e.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/35023ff9677fccb92e44f0ba296c7ba803428d1c-64aaed3204dd10f31d91.js"/><link as="script" rel="preload" href="/component---src-templates-blog-js-91bc86238d4451dfdd43.js"/><link as="fetch" rel="preload" href="/page-data\1\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2553362554.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="header"><nav class="header__nav"><ul><li><a href="/">Home</a></li><li><a href="/resources">Resources</a></li><li><a href="/blogIndex">Blog</a></li><li><a href="/contact">Contact</a></li></ul></nav></header><main><div class="blog"><div class="container"><div class="container__content"><div><h1>Setting up a deployment pipeline for your Shopify site</h1><h3>Using Azure DevOps and ThemeKit CLI</h3><p style="margin-top:2rem">December 28 2019</p></div></div></div><div class="container"><div class="container__inner"><a class="button" href="/blogIndex">←Back</a><div style="margin-top:2rem"><p>This guide assumes you have some basic knowledge on themekit to deploy changes to Shopify via your local environment.</p>
<p>The overall idea is to have the azure pipeline execute commands with the themekit CLI to deploy changes directly from your repository. This way you can negate pushing changes directly to the production environment and have it done through pull requests.</p>
<p>So the first step is to connect your Shopify repo on your desktop to your azure devops environment. You can do this by creating a new repo on azure devops, then cloning it on your local environment and drop in your shopify files there and commit.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 471px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/abdd5392b1adc1c29e256831d23ceeb4/1f09d/repo.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 102%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABnUlEQVQ4y6VU2W6DMBDM//9cWqkvbQ5SknDY+FhjfHA43YSUQhLSSh2EhMGjmd1Zs2jqulSl954zluV5miYkJ6c7hG+MXy6apnHWtm3nnKsQ5nxfNoXTb1jUTntIJYAQ/EZnvK8oisNhTwjpujBS9tZrBqCstXP28LWzlbF4mfEnJBsLmRTSWjdvMBh4y7OE0mJqG8mKlGWJNYcRbsiVeI2ijZSqd/dj251tSyQ/sa35S/y5ZUxMya6y8sA4B6UeO+7JbLndfHAub5XrCgvGku0T25ov43hHCJ3m7I2RKSoLITrMYb7mQ7xLjkm4IVvMWQLS266b63ZZLHfRerPe9okO3bbeAI6VrvS88imjRd00IeCWbqxcGR6j7SzPcDTnghZgjscEbcef+1LrQbk2usK1UgqPB2p2j5RBmzjeX8/M0G3vvOQ4YNgvgcbmZlsARNFu9b5Sqhycn5VBAJKxZ5RSjpDiXtl5L4RkBQMJbdsOZI+96qH7p+n0PzuS3jlOWUFJlmaoT2huRmHc/xIm5H4dLiHgKP5R80o+/QNfxN2S3vhoOXMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Repo"
        title="Repo"
        src="/static/abdd5392b1adc1c29e256831d23ceeb4/1f09d/repo.png"
        srcset="/static/abdd5392b1adc1c29e256831d23ceeb4/772e8/repo.png 200w,
/static/abdd5392b1adc1c29e256831d23ceeb4/e17e5/repo.png 400w,
/static/abdd5392b1adc1c29e256831d23ceeb4/1f09d/repo.png 471w"
        sizes="(max-width: 471px) 100vw, 471px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Note that the remote repo will not contain the config files to prevent overriding schema changes, you will however need it in your local repo to connect to Shopify via themekit</p>
<p>Once the connection is established, add a .gitignore file and put in the below:</p>
<h4>.gitignore</h4>
<div class="gatsby-highlight" data-language="git"><pre class="language-git"><code class="language-git">config.yml
config/settings_data.json
config/settings_schema.json</code></pre></div>
<p>The config file shouldn't be visible in the repo as it contains the api key that establishes the connection to the shopify cloud environment, leaving that exposed is a potential risk. We'll use pipeline variables to establish the connection in the next section.</p>
<p>To allow the pipeline to execute the themekit commands We'll need to setup the package.json so that it installs the themekit CLI via npm and has the build script.</p>
<p>Create the package.json file by running npm init or adding it manually. Drop in the code below:</p>
<h4>package.json</h4>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"xxxxxxxxx"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Package to deploy our website via CD pipeline"</span><span class="token punctuation">,</span>
  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"shopify-themekit"</span><span class="token operator">:</span> <span class="token string">"^0.2.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"theme deploy"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To start creating the pipeline file, add a "azure-pipelines.yml" file to your repo.</p>
<p>Drop this code into the file as this is used for the initialization:</p>
<h4>azure-pipelines.yml</h4>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">trigger</span><span class="token punctuation">:</span>
<span class="token key atrule">branches</span><span class="token punctuation">:</span>
<span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token punctuation">-</span> <span class="token string">"\*"</span>

<span class="token key atrule">pool</span><span class="token punctuation">:</span>
<span class="token key atrule">vmImage</span><span class="token punctuation">:</span> <span class="token string">"ubuntu-latest"</span></code></pre></div>
<p>Now in terms of execution steps drop this in:</p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">steps</span><span class="token punctuation">:</span>
<span class="token comment">#Installs the themekit package from the package.json file</span>

<span class="token punctuation">-</span> <span class="token key atrule">task</span><span class="token punctuation">:</span> Npm@1
  <span class="token key atrule">inputs</span><span class="token punctuation">:</span>
  <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token string">"ci"</span>
  <span class="token key atrule">workingDir</span><span class="token punctuation">:</span> <span class="token string">"\$(system.defaultworkingdirectory)/"</span></code></pre></div>
<p>The ci command will install from the package-lock.json file, the reason you want to do this is if you install from the package.json file it'll automatically update dependancies and if there are any broken dependancies it will fail. So to be safe you'll need to install from the package-lock.json file if your dependancies are working good.</p>
<p>The next two steps will determine what branch to deploy from to the specified environment.</p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token comment">#Runs the theme kit install command with the passed parameters IF the branch committed to is Master</span>
<span class="token comment">#themekit deploy pass=XXX, store==XX, themeid=XXX</span>

<span class="token punctuation">-</span> <span class="token key atrule">task</span><span class="token punctuation">:</span> CmdLine@2
  <span class="token key atrule">condition</span><span class="token punctuation">:</span> and(succeeded()<span class="token punctuation">,</span> eq(variables<span class="token punctuation">[</span><span class="token string">'Build.SourceBranch'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 'refs/heads/master'))
  <span class="token key atrule">inputs</span><span class="token punctuation">:</span>
  <span class="token key atrule">script</span><span class="token punctuation">:</span> <span class="token string">"npm run build -- --password=$(productionPassword) --store=$(productionStoreUrl) --themeid=\$(productionThemeId)"</span>

<span class="token comment">#Runs the theme kit install command with the passed parameters IF the branch committed to is Test</span>
<span class="token comment">#themekit deploy pass=XXX, store==XX, themeid=XXX</span>

<span class="token punctuation">-</span> <span class="token key atrule">task</span><span class="token punctuation">:</span> CmdLine@2
  <span class="token key atrule">condition</span><span class="token punctuation">:</span> and(succeeded()<span class="token punctuation">,</span> eq(variables<span class="token punctuation">[</span><span class="token string">'Build.SourceBranch'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 'refs/heads/test'))
  <span class="token key atrule">inputs</span><span class="token punctuation">:</span>
  <span class="token key atrule">script</span><span class="token punctuation">:</span> <span class="token string">"npm run build -- --password=$(testPassword) --store=$(testStoreUrl) --themeid=\$(testThemeId)"</span></code></pre></div>
<p>Based on the condition, it will check whether you've committed to the test or master branch and based on that run the script below. In the script itself you can see three variables:</p>
<h4>Environment Variables</h4>
<table>
<thead>
<tr>
<th>Prod</th>
<th>Test</th>
</tr>
</thead>
<tbody>
<tr>
<td>prodPassword</td>
<td>testPassword</td>
</tr>
<tr>
<td>prodStoreUrl</td>
<td>testStoreUrl</td>
</tr>
<tr>
<td>prodThemeId</td>
<td>testThemeId</td>
</tr>
</tbody>
</table>
<p>These variables are set from azure pipeline, to get the values for password, storeurl and themeId refer to the themekit documentation <a href="https://shopify.github.io/themekit/">https://shopify.github.io/themekit/</a></p>
<p>To create and set the variables, go onto the azure devops gui, click edit on the pipeline then click on variables.</p>
<p>Create all 6 variables with their respecitve values, when creating it, checkmark "Keep this value secret" as it will hide the variables from anyone else who accesses the pipeline.</p>
<p>Now that everything is setup, you can do a test commit to either the test/master branch. Then just watch the pipeline queue a job and execute the script commands!</p>
<p>Done.</p></div></div></div></div></main><footer class="footer"><div class="footer__logo"><img alt="Logo" src="/static/8b656e8f58c2b210b4fc430ca95bbfe4/2cb01/logo.png"/></div><div class="footer__copyright">© <!-- -->2020<!-- -->, Mubashir Design Inc</div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/1";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-dfda8d059abd9d0298c4.js"],"app":["/app-091679ce48900f7c617e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b75ee322736187809114.js"],"component---src-pages-blog-index-js":["/component---src-pages-blog-index-js-04f72b4cec718b6790db.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-ab8ed909bd182654df78.js"],"component---src-pages-index-js":["/component---src-pages-index-js-4ae340c3a2ece936aed1.js"],"component---src-pages-resources-js":["/component---src-pages-resources-js-2ae4b1cd5be65b72e32e.js"],"component---src-templates-blog-js":["/component---src-templates-blog-js-91bc86238d4451dfdd43.js"]};/*]]>*/</script><script src="/polyfill-dfda8d059abd9d0298c4.js" nomodule=""></script><script src="/component---src-templates-blog-js-91bc86238d4451dfdd43.js" async=""></script><script src="/35023ff9677fccb92e44f0ba296c7ba803428d1c-64aaed3204dd10f31d91.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-091679ce48900f7c617e.js" async=""></script><script src="/framework-9b42486c583946d73188.js" async=""></script><script src="/webpack-runtime-382d8716acc5e1517fef.js" async=""></script></body></html>